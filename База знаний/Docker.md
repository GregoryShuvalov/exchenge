## КОМАНДЫ

Общие команды:  

	  run         Создание и запуск нового контейнера из образа
	  exec        Выполнение команды в работающем контейнере
	  ps          Контейнеры со списком
	  build       Сборка образа из файла Docker
	  pull        Загрузка образа  из реестра
	  push        Загрузка образа в реестр
	  images      Список образов
	  login       Войдите в реестр
	  logout      Выйти из реестр
	  search      Поиск образов на Docker Hub
	  version     Показать информацию о версии Docker
	  info        Отображение общесистемной информации
  
Команды управления:

	  builder     Управление сборками
	  buildx*     Docker Buildx
	  checkpoint  Управление контрольными точками
	  compose*    Docker Compose
	  container   Управление контейнерами
	  context     Управление контекстами
	  image       Управление образами
	  manifest    Управление манифестами образов Docker и списками манифестов
	  network     Управление сетями
	  plugin      Управление плагинами
	  system      Управление Docker
	  trust       Управление доверием к образам Docker
	  volume      Управление томами
	  config      Управление конфигурациями Swarm
	  node        Управление узлами Swarm
	  secret      Управление секретами Swarm
	  service     Управление службами Swarm
	  stack       Управление стеками Swarm
	  swarm       Управление Swarm

Команды:

	   attach     Присоединить локальные стандартные потоки ввода, вывода и                         ошибок к запущенному контейнеру
	   build      
	  commit      Создание нового образа на основе изменений контейнера
	  cp          Копирование файлов/папок между контейнером и локальной                            файловой системой
	  create      Создать новый контейнер
	  diff        Проверять изменения файлов или каталогов в файловой системе                       контейнера
	  events      Получение событий реального времени с сервера
	  export      Экспортировать файловую систему контейнера в виде tar-архива
	  history     Показать историю образа
	  import      Импортировать содержимое из tar-архива для создания образа                        файловой системы
	  inspect     Возврат низкоуровневой информации об объектах Docker
	  kill        Убить один или несколько запущенных контейнеров
	  load        Загрузить образ из tar-архива или STDIN
	  logs        Получение журналов контейнера
	  pause       Приостановить все процессы в одном или нескольких контейнерах
	  port        Перечислить сопоставления портов или конкретное сопоставление                     для контейнера 
	  rename      Переименовать контейнер
	  restart     Перезапустить один или несколько контейнеров
	  rm          Удалить один или несколько контейнеров
	  rmi         Удалить одно или несколько изображений
	  save        Сохранить одно или несколько изображений в tar-архив (по                          умолчанию транслируется в STDOUT)
	  start       Запустить один или несколько остановленных контейнеров
	  stats       Отображение потока статистики использования ресурсов                              контейнера(ов) в реальном времени
	  stop        Остановить один или несколько запущенных контейнеров
	  tag         Создать тег TARGET_IMAGE, который ссылается на SOURCE_IMAGE
	  top         Отображение запущенных процессов контейнера
	  unpause     Приостановить все процессы в одном или нескольких контейнерах
	            обновить Обновить конфигурацию одного или нескольких                              контейнеров
	  wait        Заблокировать остановку одного или нескольких контейнеров,                        затем вывести их коды выхода
	  
Глобальные параметры:

	      --config string    Расположение файлов конфигурации клиента (по                                       умолчанию "/home/user/.docker")
	  -c, --context string   Имя контекста, который будет использоваться для                                    подключения к демону (отменяет переменную env                                     DOCKER_HOST и контекст по умолчанию, заданный с                                   помощью "docker context use")
	  -D, --debug            Включить режим отладки
	  -H, --host list        Сокет демона для подключения
	  -l, --log-level string Установка уровня протоколирования ("debug", "info",                               "warn", "error", "fatal") (по умолчанию "info")
	     --tls              Использовать TLS; подразумевается командой --tlsverify
	     --tlscacert string Доверять сертификаты, подписанные только этим ЦС                                  (по умолчанию "/home/user/.docker/ca.pem")
	      --tlscert string   Путь к файлу сертификата TLS (по умолчанию                                        "/home/user/.docker/cert.pem")
	      --tlskey string   Путь к файлу ключа TLS (по умолчанию                                               "/home/user/.docker/key.pem")
	      --tlsverify       Использовать TLS и проверять удаленный
	  -v, --version          Вывести информацию о версии и выйти из системы

Примеры

	• docker images         — смотрите images в наличии и узнаёте ID вашего
	• docker images -a      — смотрите images, в том числе неактивные
	• docker ps             — смотрите запущенные контейнеры
	• docker ps -a          — смотрите список всех контейнеров, включая                                         неактивные
	• docker login username darkbenladan --password password — логинитесь по                                    логину и паролю, которые вы создали на                                            hub.docker.com ранее
	• docker save 3c156928aeec > start.tar — сохраняете локально ваш контейнер,                                 теперь вы можете его перенести куда угодно
	• docker rm -f $(docker ps -a -q) — удалите и принудительно остановите все                                  контейнеры
	• docker load < start.tar — вы вернули ваш контейнер

	• docker run -d -p 80:80 docker/getting-started
	• docker ps — узнаете новый ID вашего контейнера
	• docker port 8c71b40dc003 — узнаете порт приложения
	• docker exec -it 8c71b40dc003 sh — зайдёте в терминал вашего контейнера
	• / # cat /etc/os-release — узнаете, какая OS внутри вашего контейнера
	• NAME="Alpine Linux"
	• ID=alpine
	• VERSION_ID=3.11.5
	• PRETTY_NAME="Alpine Linux v3.11"
	• HOME_URL="https://alpinelinux.org/"
	• BUG_REPORT_URL="https://bugs.alpinelinux.org/"
	• exit — разлогиниться из контейнера
	• Также могут быть полезны команды docker logs, docker stop\start, docker            logs
	
	docker login -u <Логин>
	docker tag image ID darkbenladan/dotnet:latest
	docker push darkbenladan/dotnet
## DOCKERFILE
Основные правила создания Dockerfile

	1. Создание эфемерных контейнеров
	2. Понять контекст сборки
	3. Передача Dockerfile через
	4. Исключить с помощью .dockerignore
	5. Используйте многоступенчатые сборки
	6. Не устанавливайте ненужные пакеты
	7. Разделяйте приложения
	8. Сведите к минимуму количество слоев
	9. Сортировка многострочных аргументов
	10. Использование кэша сборки

Для сохранения преимущества контейнеров

	1. Не надо хранить данные внутри контейнера
	2. Не надо дробить доставку приложений
	3. Не надо создавать большие образы
	4. Не надо использовать однослойные контейнеры
	5. Не надо создавать образы из запущенных контейнеров — не применяйте команду        docker commit
	6. Не надо использовать только тег latest
	7. Не надо выполнять в контейнере более одного процесса
	8. Не надо хранить учётные данные в образе
	9. Не надо запускать процессы от имени root
	10. Не надо полагаться на IP-адреса

Создание базового image
	vim dokerfile
	
	docker build . -t имя - собрать образ из dockerfile в каталоге .  
	docker push имя - загрузить образ в репозиторий  
	docker history имя - информация о слоях образа
		
	Работа с dockerfile:  
	FROM - образ на базе которого создается новый образ контейнера  
	RUN - запустить команду на указанном образе  
	COPY app.py /opt/app.py - скопировать файл app.py в образ в каталог /opt/app.py  
	ENTRYPOINT - процесс запускаемый в контейнере
		
проверить количество баз в контейнере sql 
`docker exec -it <container_id_or_name> mysql -u root -p -e "SELECT COUNT(*) FROM information_schema.SCHEMATA;"`